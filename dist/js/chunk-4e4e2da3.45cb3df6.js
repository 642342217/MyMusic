(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4e4e2da3"],{"14bc":function(e,t,s){"use strict";s("a8f3")},"39e5":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"songer"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.imgUrl,expression:"imgUrl"}],attrs:{alt:e.name},on:{click:e.toSonger}}),s("p",{on:{click:e.toSonger}},[e._v(e._s(e.name))])])},n=[],o={props:["name","imgUrl","id"],methods:{toSonger:function(){this.$router.push({path:"/artist",query:{id:this.id}})}}},r=o,i=(s("d9df"),s("2877")),c=Object(i["a"])(r,a,n,!1,null,"1a53e6ee",null);t["a"]=c.exports},"484b":function(e,t,s){},"4b62":function(e,t,s){},"53b7":function(e,t,s){"use strict";s("4b62")},9011:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"main"},[s("div",{staticClass:"song_cover",style:e.background,on:{click:e.toDetailPage}},["findmusic"===e.page?s("div",{staticClass:"mask"},[s("div",{class:e.playOrPause,on:{click:function(t){return t.stopPropagation(),e.playOrPauseSong.apply(null,arguments)}}})]):e._e()]),s("div",{staticClass:"song_name",on:{mouseenter:function(t){return e.showAll(t)},mouseleave:function(t){e.showAllName=!e.showAllName},click:e.toDetailPage}},[e._v(e._s(e.name))]),"playlist"===e.page||"search"===e.page?s("div",{on:{click:e.toCreator}},[e._t("creator")],2):e._e(),e.showAllName?s("span",{staticClass:"allName",style:{top:e.y+"px",left:e.x+"px",position:"absolute",fontSize:"8px"}},[e._v(e._s(e.name))]):e._e()])},n=[],o=s("1da1"),r=(s("96cf"),s("365c")),i={props:["id","name","picUrl","userId"],data:function(){return{background:{background:"url(".concat(this.picUrl,")")},songUrl:"",showAllName:!1,x:"",y:"",page:""}},methods:{playSong:function(){this.$store.commit("playSong",this.songUrl),this.$store.commit("setPlaySongUrl",this.songUrl)},pauseSong:function(){this.$store.commit("pausePlay")},playOrPauseSong:function(){!0===this.$store.getters.getIsPlaySong&&this.$store.getters.getPlaySongUrl==this.songUrl?this.pauseSong():this.playSong()},showAll:function(e){var t=e||window.event,s=document.documentElement.scrollLeft||document.body.scrollLeft,a=document.documentElement.scrollTop||document.body.scrollTop,n=t.pageX||t.clientX+s,o=t.pageY||t.clientY+a;this.x=n+10,this.y=o+15,this.showAllName=!this.showAllName},toDetailPage:function(){"#/findmusic"!==window.location.hash?this.$router.push({path:"/playlist-detail",query:{id:this.id}}):"#/findmusic"===window.location.hash&&this.$router.push({path:"/songdetail",query:{id:this.id}})},toCreator:function(){this.$router.push({path:"/user",query:{id:this.userId}})}},computed:{playOrPause:function(){var e=this.$store.getters.getIsPlaySong,t=this.$store.getters.getPlaySongUrl;return!0===e&&t===this.songUrl?{pause:!0}:{play:!0}}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("#/findmusic"!==window.location.hash){t.next=6;break}return t.next=3,r["a"].getSongUrl(e.id);case 3:s=t.sent,a=s.data,e.songUrl=a.data[0].url;case 6:case"end":return t.stop()}}),t)})))()},beforeMount:function(){"#/findmusic"===window.location.hash?this.page="findmusic":"#/playlist"===window.location.hash?this.page="playlist":"#/search?s=1&type=1000"===window.location.hash?this.page="search":this.page="user"}},c=i,u=(s("ea0a"),s("2877")),l=Object(u["a"])(c,a,n,!1,null,"fd1c7bb0",null);t["a"]=l.exports},"93fa":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:{song_row:!0,row:(e.index+1)%2}},[s("div",{staticClass:"index"},[e._v(e._s(e.index+1))]),s("i",{class:{play:!0,iconfont:!0,active:e.activeId===e.id},on:{click:e.playIt}},[e._v("")]),s("div",{staticClass:"name"},[s("span",{on:{click:e.toSongDetail,mouseenter:function(t){return e.showSong(e.event)},mouseleave:function(t){e.showSongName=!e.showSongName}}},[e._v(e._s(e.name))])]),s("div",{staticClass:"creator"},[s("span",{staticClass:"slot",on:{click:e.toSonger,mouseenter:function(t){return e.showCreator(t)},mouseleave:function(t){e.showCreatorName=!e.showCreatorName}}},[e._t("creator")],2)]),s("div",{staticClass:"time"},[e._v(e._s(e._f("minute_second")(e.time)))]),e.category?s("div",{staticClass:"category",on:{mouseenter:function(t){return e.showCategory(e.event)},mouseleave:function(t){e.showCategoryName=!e.showCategoryName}}},[e._v(e._s(e.category))]):e._e(),e.showCategoryName?s("span",{staticClass:"category-name",style:{top:e.y+"px",left:e.x+"px",position:"absolute",fontSize:"8px"}},[e._v(e._s(e.category))]):e._e(),e.showSongName?s("span",{staticClass:"song-name",style:{top:e.y+"px",left:e.x+"px",position:"absolute",fontSize:"8px"}},[e._v(e._s(e.name))]):e._e(),e.showCreatorName?s("span",{staticClass:"allName",style:{top:e.y+"px",left:e.x+"px",position:"absolute",fontSize:"8px"}},[e._v(e._s(e.userName))]):e._e(),s("div",{staticClass:"creator"},[s("span",{staticClass:"slot",on:{click:e.toSonger,mouseenter:function(t){return e.showCreator(t)},mouseleave:function(t){e.showCreatorName=!e.showCreatorName}}},[e._t("artist")],2)])])},n=[],o=s("1da1"),r=(s("96cf"),s("99af"),s("365c")),i={props:["index","time","id","name","userId","userName","category"],data:function(){return{songUrl:"",showSongName:!1,showCategoryName:!1,showCreatorName:!1}},filters:{minute_second:function(e){if(e/=1e3,e>=60){var t=Math.floor(e/60),s=Math.floor(e%60);return s<10&&(s="0"+s),"".concat(t,":").concat(s)}e<10&&(e="0"+e),e+="";for(var a="",n=0;n<2;n++)a+=e[n];return"0:".concat(a)}},computed:{activeId:function(){return this.$store.getters.getIdOfSong}},methods:{playIt:function(){this.$store.commit("playSong",this.songUrl),this.$store.commit("setPlayingSongId",this.id)},getSongUrl:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r["a"].getSongUrl(e.id);case 2:s=t.sent,a=s.data,e.songUrl=a.data[0].url;case 5:case"end":return t.stop()}}),t)})))()},toSongDetail:function(){this.$router.push({path:"songdetail",query:{id:this.id}})},getMousePosition:function(e){var t=e||window.event,s=document.documentElement.scrollLeft||document.body.scrollLeft,a=document.documentElement.scrollTop||document.body.scrollTop,n=t.pageX||t.clientX+s,o=t.pageY||t.clientY+a;this.x=n+10,this.y=o+15},showSong:function(e){this.getMousePosition(e),this.showSongName=!this.showSongName},showCreator:function(e){this.getMousePosition(e),this.showCreatorName=!this.showCreatorName},showCategory:function(e){this.getMousePosition(e),this.showCategoryName=!this.showCategoryName},toSonger:function(){this.$router.push({path:"artist",query:{id:this.userId}})}},created:function(){this.getSongUrl()}},c=i,u=(s("14bc"),s("2877")),l=Object(u["a"])(c,a,n,!1,null,"25311423",null);t["a"]=l.exports},a8f3:function(e,t,s){},cd7b:function(e,t,s){},d9df:function(e,t,s){"use strict";s("cd7b")},dd94:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"search-page"},[s("div",{staticClass:"search-box"},[s("div",{staticClass:"input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.searchValue,expression:"searchValue"}],attrs:{type:"text",disabled:""},domProps:{value:e.searchValue},on:{input:function(t){t.target.composing||(e.searchValue=t.target.value)}}})]),s("div",{staticClass:"search-button iconfont"},[e._v("")])]),s("div",{staticClass:"header"},[s("div",{ref:"song",on:{click:function(t){return e.$router.push({path:"/search",query:{s:e.searchValue,type:1}})}}},[e._v("单曲")]),s("div",{ref:"artist",on:{click:function(t){return e.$router.push({path:"/search",query:{s:e.searchValue,type:100}})}}},[e._v("歌手")]),s("div",{ref:"playlist",on:{click:function(t){return e.$router.push({path:"/search",query:{s:e.searchValue,type:1e3}})}}},[e._v("歌单")]),s("div",{ref:"user"},[e._v("用户")])]),s("div",{staticClass:"show-box"},[s("div",{directives:[{name:"show",rawName:"v-show",value:"1"==e.$route.query.type,expression:"$route.query.type == '1'"}],staticClass:"song"},e._l(e.songs,(function(t,a){return s("SongRow",{key:t.id,attrs:{index:a,userName:t.userName,id:t.id,name:t.name,time:t.duration,userId:t.userId},scopedSlots:e._u([{key:"artist",fn:function(){return[e._v(" "+e._s(t.userName)+" ")]},proxy:!0}],null,!0)})})),1),"1"==e.$route.query.type&&0==e.songs.length?s("div",[e._v(" 找不到相关歌曲~ ")]):e._e(),s("div",{directives:[{name:"show",rawName:"v-show",value:"100"==e.$route.query.type,expression:"$route.query.type == '100'"}],staticClass:"artist"},e._l(e.artists,(function(e){return s("SongerCover",{key:e.id,attrs:{id:e.id,imgUrl:e.imgUrl,name:e.name}})})),1),"100"==e.$route.query.type&&0==e.artists.length?s("div",[e._v(" 找不到相关歌手~ ")]):e._e(),s("div",{staticClass:"playlist"},e._l(e.playlists,(function(t){return s("SongCover",{key:t.id,attrs:{id:t.id,name:t.name,picUrl:t.coverImgUrl,userId:t.userId},scopedSlots:e._u([{key:"creator",fn:function(){return[s("span",{staticClass:"slot"},[e._v("by_"+e._s(t.nickname))])]},proxy:!0}],null,!0)})})),1),"1000"==e.$route.query.type&&0==e.playlists.length?s("div",[e._v(" 找不到相关歌单~ ")]):e._e()])])},n=[],o=s("1da1"),r=(s("96cf"),s("d3b7"),s("159b"),s("b0c0"),s("365c")),i=s("93fa"),c=s("39e5"),u=s("9011"),l={data:function(){return{songs:[],artists:[],playlists:[],users:[],searchValue:""}},components:{SongRow:i["a"],SongerCover:c["a"],SongCover:u["a"]},methods:{getSearchInfo:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function s(){var a,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,r["a"].getSearchResult(t.$route.query.s,e);case 2:a=s.sent,n=a.data,1==e?n.result.songs.forEach((function(e){var s=e.name,a=e.id,n=e.duration,o=e.artists[0],r=o.name,i=o.id;t.songs.push({id:a,name:s,duration:n,userName:r,userId:i})})):100==e?n.result.artists.forEach((function(e){var s=e.name,a=e.id,n=e.picUrl;t.artists.push({id:a,name:s,imgUrl:n})})):1e3==e&&n.result.playlists.forEach((function(e){var s=e.name,a=e.id,n=e.coverImgUrl,o=e.creator,r=o.nickname,i=o.userId;t.playlists.push({id:a,name:s,coverImgUrl:n,userId:i,nickname:r})}));case 5:case"end":return s.stop()}}),s)})))()}},created:function(){var e=this;this.searchValue=this.$route.query.s,this.getSearchInfo(this.$route.query.type),this.$nextTick((function(){switch(e.$route.query.type){case"1":e.$refs.song.className="active";break;case"100":e.$refs.artist.className="active";break;case"1000":e.$refs.playlist.className="active";break;default:e.$refs.user.className="active";break}}))}},h=l,d=(s("53b7"),s("2877")),m=Object(d["a"])(h,a,n,!1,null,"24ed575d",null);t["default"]=m.exports},ea0a:function(e,t,s){"use strict";s("484b")}}]);
//# sourceMappingURL=chunk-4e4e2da3.45cb3df6.js.map
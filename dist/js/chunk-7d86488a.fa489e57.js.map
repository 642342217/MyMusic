{"version":3,"sources":["webpack:///./src/components/SongCover.vue?f106","webpack:///src/components/SongCover.vue","webpack:///./src/components/SongCover.vue?b184","webpack:///./src/components/SongCover.vue","webpack:///./src/components/PlayList.vue?58bd","webpack:///src/components/PlayList.vue","webpack:///./src/components/PlayList.vue?ea5f","webpack:///./src/components/PlayList.vue","webpack:///./src/components/PlayList.vue?cecc","webpack:///./src/components/SongCover.vue?fba9"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","style","on","toDetailPage","page","class","playOrPause","$event","stopPropagation","playOrPauseSong","apply","arguments","_e","showAll","showAllName","_v","_s","name","toCreator","_t","top","y","left","x","position","fontSize","staticRenderFns","component","_m","_l","song","index","key","id","attrs","coverImgUrl","userId","scopedSlots","_u","fn","nickname","proxy","description","playCount"],"mappings":"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","file":"js/chunk-7d86488a.fa489e57.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main\"},[_c('div',{staticClass:\"song_cover\",style:(_vm.background),on:{\"click\":_vm.toDetailPage}},[(_vm.page === 'findmusic')?_c('div',{staticClass:\"mask\"},[_c('div',{class:_vm.playOrPause,on:{\"click\":function($event){$event.stopPropagation();return _vm.playOrPauseSong.apply(null, arguments)}}})]):_vm._e()]),_c('div',{staticClass:\"song_name\",on:{\"mouseenter\":function($event){return _vm.showAll($event)},\"mouseleave\":function($event){_vm.showAllName = !_vm.showAllName},\"click\":_vm.toDetailPage}},[_vm._v(_vm._s(_vm.name))]),(_vm.page === 'playlist' || _vm.page === 'search')?_c('div',{on:{\"click\":_vm.toCreator}},[_vm._t(\"creator\")],2):_vm._e(),(_vm.showAllName)?_c('span',{staticClass:\"allName\",style:({ top: _vm.y + 'px', left: _vm.x + 'px', position: 'absolute', fontSize: 8 + 'px'})},[_vm._v(_vm._s(_vm.name))]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"main\">\r\n        <div class=\"song_cover\" :style=\"background\" @click=\"toDetailPage\">\r\n            <div class=\"mask\" v-if=\"page === 'findmusic'\">\r\n                <div :class=\"playOrPause\" @click.stop=\"playOrPauseSong\"></div>\r\n            </div>\r\n        </div>\r\n        <div class=\"song_name\" @mouseenter=\"showAll($event)\" @mouseleave=\"showAllName = !showAllName\"\r\n        @click=\"toDetailPage\">{{name}}</div>\r\n        <div @click=\"toCreator\" v-if=\"page === 'playlist' || page === 'search'\"><slot name=\"creator\"></slot></div>\r\n        <span class=\"allName\" :style=\"{ top: y + 'px', left: x + 'px', position: 'absolute', fontSize: 8 + 'px'}\" v-if=\"showAllName\">{{name}}</span>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport api from '../api/index'\r\nexport default {\r\n    props: ['id', 'name', 'picUrl', 'userId'],    \r\n    data() {\r\n        return {\r\n            background: {background: `url(${this.picUrl})`},\r\n            songUrl: '',\r\n            showAllName: false,\r\n            x: '',\r\n            y: '',\r\n            page: ''\r\n        }\r\n    },\r\n    methods: {\r\n        // 播放音乐\r\n        playSong() {\r\n            this.$store.commit('playSong', this.songUrl);\r\n            this.$store.commit('setPlaySongUrl', this.songUrl);\r\n        },\r\n        //暂停音乐\r\n        pauseSong() {\r\n            this.$store.commit('pausePlay');\r\n        },\r\n        playOrPauseSong() {\r\n            if(this.$store.getters.getIsPlaySong === true) {\r\n                if(this.$store.getters.getPlaySongUrl == this.songUrl) {\r\n                    this.pauseSong();\r\n                } else {\r\n                    this.playSong();\r\n                }\r\n            } else {\r\n                this.playSong();\r\n            }\r\n        },\r\n        //展示全称\r\n        showAll(event) {\r\n            let e = event || window.event;\r\n            let scrollX = document.documentElement.scrollLeft || document.body.scrollLeft;\r\n            let scrollY = document.documentElement.scrollTop || document.body.scrollTop;\r\n            let x = e.pageX || e.clientX + scrollX;\r\n            let y = e.pageY || e.clientY + scrollY;\r\n            this.x = x + 10;\r\n            this.y = y + 15;\r\n            this.showAllName = !this.showAllName;\r\n        },\r\n        //跳转至具体页面\r\n        toDetailPage() {\r\n            if(window.location.hash !== '#/findmusic') {\r\n                this.$router.push({ path: '/playlist-detail', query: { id: this.id }} );\r\n            } else if (window.location.hash === '#/findmusic') {\r\n                this.$router.push({ path: '/songdetail', query: { id: this.id }});\r\n            }\r\n        },\r\n        //跳转至歌单创建者\r\n        toCreator() {\r\n            this.$router.push({ path: '/user', query: { id: this.userId }} );\r\n        }\r\n    },\r\n    computed:{\r\n        playOrPause() {\r\n            let isPlay = this.$store.getters.getIsPlaySong;\r\n            let playSongUrl = this.$store.getters.getPlaySongUrl;\r\n            if(isPlay === true) {\r\n                if(playSongUrl === this.songUrl) {\r\n                    return {pause: true};\r\n                } else {\r\n                    return {play: true};\r\n                }\r\n            } else {\r\n                return {play: true};\r\n            }\r\n        }\r\n    },\r\n    async created() {\r\n        //获取音乐url\r\n        if(window.location.hash === '#/findmusic') {\r\n            let {data} = await api.getSongUrl(this.id);\r\n            this.songUrl = data.data[0].url;\r\n        }\r\n    },\r\n    beforeMount() {\r\n        if(window.location.hash === '#/findmusic') {\r\n            this.page = 'findmusic';\r\n        } else if(window.location.hash === '#/playlist') {\r\n            this.page = 'playlist';\r\n        } else if(window.location.hash === '#/search?s=1&type=1000') {\r\n            this.page = 'search';\r\n        } else {\r\n            this.page = 'user';\r\n        }\r\n    }\r\n}\r\n\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n    @width: 12vw;\r\n    .main{\r\n        width: @width;\r\n        height: calc(@width + 50px);\r\n        .song_cover{\r\n            display: flex;\r\n            align-items: flex-end;\r\n            cursor: pointer;\r\n            margin: 10px 0 0 0;\r\n            width: @width;\r\n            height: @width;\r\n            background-size: cover !important;\r\n            background: no-repeat;\r\n            .mask{\r\n                display: flex;\r\n                justify-content: flex-end;\r\n                align-items: center;\r\n                height: 15%;\r\n                width: 100%;\r\n                background-color: #242424;\r\n                opacity: 0.5;\r\n                .play{\r\n                    border: 10px solid lightgray;\r\n                    width: 0;\r\n                    height: 0;\r\n                    border-top-color: transparent;\r\n                    border-bottom-color: transparent;\r\n                    border-right-color: transparent;\r\n                }\r\n                .pause{\r\n                    line-height: 20px;\r\n                    width: 15px;\r\n                    height: 20px;\r\n                    font-size: 20px;\r\n                    color: lightgray;\r\n                    &::before{\r\n                        content: '|';\r\n                        display: inline-block;\r\n                    }\r\n                    &::after{\r\n                        content: \"|\";\r\n                        display: inline-block;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        .song_name{\r\n            width: @width;\r\n            overflow: hidden;\r\n            white-space: nowrap;\r\n            text-overflow: ellipsis;\r\n            height: 20px;\r\n            &:hover{\r\n                text-decoration: underline;\r\n                cursor: pointer;\r\n            }\r\n        }\r\n        .allName{\r\n            background-color: #fff;\r\n            border: solid 1px #242424;\r\n        }\r\n    }\r\n    \r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SongCover.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SongCover.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SongCover.vue?vue&type=template&id=fd1c7bb0&scoped=true&\"\nimport script from \"./SongCover.vue?vue&type=script&lang=js&\"\nexport * from \"./SongCover.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SongCover.vue?vue&type=style&index=0&id=fd1c7bb0&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fd1c7bb0\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"play-list\"},[_vm._m(0),_c('div',{staticClass:\"songBox\"},_vm._l((_vm.playlists),function(song,index){return _c('SongCover',{key:song.id + index,attrs:{\"id\":song.id,\"name\":song.name,\"picUrl\":song.coverImgUrl,\"userId\":song.userId},scopedSlots:_vm._u([{key:\"creator\",fn:function(){return [_c('span',{staticClass:\"slot\"},[_vm._v(\"by_\"+_vm._s(song.nickname))])]},proxy:true}],null,true)})}),1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"全部歌单\")]),_c('div',{staticClass:\"more\"},[_vm._v(\"更多\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"content\">\r\n       <div class=\"play-list\">\r\n            <div class=\"header\">\r\n                <div class=\"title\">全部歌单</div>\r\n                <div class=\"more\">更多</div>\r\n            </div>\r\n            <div class=\"songBox\">\r\n                <SongCover v-for=\"(song, index) in playlists\" :key=\"song.id + index\" :id=\"song.id\" \r\n                :name=\"song.name\" :picUrl=\"song.coverImgUrl\" :userId=\"song.userId\">\r\n                <template v-slot:creator>\r\n                    <span class=\"slot\">by_{{song.nickname}}</span>\r\n                </template>\r\n                </SongCover>\r\n            </div>\r\n        </div> \r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport api from '../api/index'\r\nimport SongCover from '../components/SongCover.vue'\r\nexport default {\r\n    components: { SongCover },\r\n    data() {\r\n        return {\r\n            playlists: []\r\n\r\n        }\r\n    },\r\n    methods: {\r\n        async getPlayLists() {\r\n            let { data } = await api.getPlayLists();\r\n            data.playlists.forEach(list => {\r\n                let { name, id, coverImgUrl, description, playCount } = list;\r\n                let { userId, nickname } = list.creator;\r\n                this.playlists.push({\r\n                    name,\r\n                    id,\r\n                    coverImgUrl,\r\n                    description,\r\n                    userId,\r\n                    nickname,\r\n                    playCount\r\n                })\r\n            });\r\n        }\r\n    },\r\n    created() {\r\n        this.getPlayLists();\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n    .content{\r\n        margin: 0 auto;\r\n        width: 70vw;\r\n        border: solid 0.1px #a8a4a4;\r\n        .play-list{\r\n            margin: 0 auto;\r\n            width: 66vw;\r\n            .header{\r\n                display: flex;\r\n                justify-content: space-between;\r\n                height: 50px;\r\n                border-bottom: 2px solid red;\r\n                .title{\r\n                    line-height: 50px;\r\n                    padding-left: 20px;\r\n                }\r\n                .more{\r\n                    line-height: 50px;\r\n                    padding-right: 20px;\r\n                    cursor: pointer;\r\n                    text-decoration: underline;\r\n                    &:hover{\r\n                        color: red;\r\n                    }\r\n                }\r\n            }\r\n            .songBox{\r\n                width: 66vw;\r\n                display: flex;\r\n                justify-content: space-between;\r\n                flex-wrap: wrap;\r\n                .slot{\r\n                    font-size: 10px;\r\n                    cursor: pointer;\r\n                    float: left;\r\n                    &:hover{\r\n                        text-decoration: underline;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlayList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlayList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PlayList.vue?vue&type=template&id=fe19042c&scoped=true&\"\nimport script from \"./PlayList.vue?vue&type=script&lang=js&\"\nexport * from \"./PlayList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PlayList.vue?vue&type=style&index=0&id=fe19042c&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fe19042c\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlayList.vue?vue&type=style&index=0&id=fe19042c&lang=less&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SongCover.vue?vue&type=style&index=0&id=fd1c7bb0&lang=less&scoped=true&\""],"sourceRoot":""}
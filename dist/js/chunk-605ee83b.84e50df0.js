(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-605ee83b"],{"484b":function(t,e,s){},"486f":function(t,e,s){"use strict";s("b7f4")},9011:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main"},[s("div",{staticClass:"song_cover",style:t.background,on:{click:t.toDetailPage}},["findmusic"===t.page?s("div",{staticClass:"mask"},[s("div",{class:t.playOrPause,on:{click:function(e){return e.stopPropagation(),t.playOrPauseSong.apply(null,arguments)}}})]):t._e()]),s("div",{staticClass:"song_name",on:{mouseenter:function(e){return t.showAll(e)},mouseleave:function(e){t.showAllName=!t.showAllName},click:t.toDetailPage}},[t._v(t._s(t.name))]),"playlist"===t.page||"search"===t.page?s("div",{on:{click:t.toCreator}},[t._t("creator")],2):t._e(),t.showAllName?s("span",{staticClass:"allName",style:{top:t.y+"px",left:t.x+"px",position:"absolute",fontSize:"8px"}},[t._v(t._s(t.name))]):t._e()])},n=[],i=s("1da1"),o=(s("96cf"),s("365c")),r={props:["id","name","picUrl","userId"],data:function(){return{background:{background:"url(".concat(this.picUrl,")")},songUrl:"",showAllName:!1,x:"",y:"",page:""}},methods:{playSong:function(){this.$store.commit("playSong",this.songUrl),this.$store.commit("setPlaySongUrl",this.songUrl)},pauseSong:function(){this.$store.commit("pausePlay")},playOrPauseSong:function(){!0===this.$store.getters.getIsPlaySong&&this.$store.getters.getPlaySongUrl==this.songUrl?this.pauseSong():this.playSong()},showAll:function(t){var e=t||window.event,s=document.documentElement.scrollLeft||document.body.scrollLeft,a=document.documentElement.scrollTop||document.body.scrollTop,n=e.pageX||e.clientX+s,i=e.pageY||e.clientY+a;this.x=n+10,this.y=i+15,this.showAllName=!this.showAllName},toDetailPage:function(){"#/findmusic"!==window.location.hash?this.$router.push({path:"/playlist-detail",query:{id:this.id}}):"#/findmusic"===window.location.hash&&this.$router.push({path:"/songdetail",query:{id:this.id}})},toCreator:function(){this.$router.push({path:"/user",query:{id:this.userId}})}},computed:{playOrPause:function(){var t=this.$store.getters.getIsPlaySong,e=this.$store.getters.getPlaySongUrl;return!0===t&&e===this.songUrl?{pause:!0}:{play:!0}}},created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("#/findmusic"!==window.location.hash){e.next=6;break}return e.next=3,o["a"].getSongUrl(t.id);case 3:s=e.sent,a=s.data,t.songUrl=a.data[0].url;case 6:case"end":return e.stop()}}),e)})))()},beforeMount:function(){"#/findmusic"===window.location.hash?this.page="findmusic":"#/playlist"===window.location.hash?this.page="playlist":"#/search?s=1&type=1000"===window.location.hash?this.page="search":this.page="user"}},l=r,c=(s("ea0a"),s("2877")),u=Object(c["a"])(l,a,n,!1,null,"fd1c7bb0",null);e["a"]=u.exports},b7f4:function(t,e,s){},d522:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"user"},[s("div",{staticClass:"user-detail"},[s("div",{staticClass:"avatar"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.avatarUrl,expression:"avatarUrl"}],attrs:{alt:t.nickname}})]),s("div",{staticClass:"content"},[s("div",{staticClass:"first"},[s("div",{staticClass:"name"},[t._v(t._s(t.nickname))]),s("div",{staticClass:"follow",on:{click:t.follow}},[t.followed?t._e():s("span",{staticClass:"jia"},[t._v("+")]),t._v(t._s(t.followed?"取消关注":"关注"))])]),s("hr"),s("div",{staticClass:"second"},[s("div",{staticClass:"follows"},[t._v("关注："+t._s(t.follows))]),s("span",[t._v("|")]),s("div",{staticClass:"followed"},[t._v("粉丝："+t._s(t.followeds))])]),s("div",{staticClass:"third"},[t._v("个人介绍："+t._s(t.signature||"这个人很懒，什么都没留下~"))])])]),s("div",{staticClass:"user-playlist"},[t.create_list.length?s("div",{staticClass:"create"},[t._v(t._s(t.nickname)+"创建的歌单")]):t._e(),s("div",{staticClass:"box"},t._l(t.create_list,(function(t){return s("SongCover",{key:t.id,staticClass:"cover",attrs:{id:t.id,picUrl:t.coverImgUrl,name:t.name}})})),1),t.collectlist.length?s("div",{staticClass:"collect"},[t._v(t._s(t.nickname)+"收藏的歌单")]):t._e(),s("div",{staticClass:"box"},t._l(t.collectlist,(function(t){return s("SongCover",{key:t.id,staticClass:"cover",attrs:{id:t.id,picUrl:t.coverImgUrl,name:t.name}})})),1)])])},n=[],i=s("1da1"),o=(s("d3b7"),s("159b"),s("b0c0"),s("96cf"),s("365c")),r=s("9011"),l={data:function(){return{avatarUrl:"",nickname:"",followed:"",signature:"",userId:"",followeds:"",follows:"",playlistCount:"",create_list:[],collectlist:[]}},components:{SongCover:r["a"]},methods:{getDetail:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s,a,n,i,r,l,c,u,d,h,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o["a"].getUserDetail(t.$route.query.id);case 2:s=e.sent,a=s.data,n=a.profile,i=n.avatarUrl,r=n.nickname,l=n.followed,c=n.signature,u=n.userId,d=n.followeds,h=n.follows,f=n.playlistCount,t.avatarUrl=i,t.nickname=r,t.followed=l,t.signature=c,t.userId=u,t.followeds=d,t.follows=h,t.playlistCount=f;case 13:case"end":return e.stop()}}),e)})))()},follow:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.followed)try{o["a"].followUser(t.$route.query.id,0)}catch(s){console.log(s)}else try{o["a"].followUser(t.$route.query.id,1)}catch(s){console.log(s)}t.getDetail();case 2:case"end":return e.stop()}}),e)})))()},getPlayLists:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o["a"].getPlayListsOfUser(t.$route.query.id);case 2:s=e.sent,a=s.data,a.playlist.forEach((function(e){var s=e.coverImgUrl,a=e.name,n=e.id;e.userId==t.$route.query.id?t.create_list.push({coverImgUrl:s,name:a,id:n}):t.collectlist.push({coverImgUrl:s,name:a,id:n})}));case 5:case"end":return e.stop()}}),e)})))()}},created:function(){this.getDetail(),this.getPlayLists()}},c=l,u=(s("486f"),s("2877")),d=Object(u["a"])(c,a,n,!1,null,"815312c4",null);e["default"]=d.exports},ea0a:function(t,e,s){"use strict";s("484b")}}]);
//# sourceMappingURL=chunk-605ee83b.84e50df0.js.map